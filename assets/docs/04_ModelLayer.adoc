= Spring Boot - The Model Layer
:toc:
:toclevels: 4

Building the model and its unit tests

== The Model Layer
The model consists of two entities that is managed by the service. +
⇒ link:../../phonebook/src/test/java/com/codedifferently/phonebook/widgets/models/Widget.java[Widget.java] +
⇒ link:../../phonebook/src/test/java/com/codedifferently/phonebook/widgets/models/WidgetPart.java[WidgetPart.java] +

. Mark the object as an JPA entity +
.. Look for the `@Entity` above the class declaration.

. Add the persistence annotations +
.. The `@Table` annotation provides a database table name that corresponds to the `Todo` entity.
.. The `@Id` annotation marks the `id` field as a row identifier primary key. +
.. The `@GeneratedValue` annotation implies that the value is generated by the database. +
.. The `@Column` annotation provides the column name for the field. The column name can be different
from the field name as shown in case of the `activeFlag` field. The column name in the database table
can be different from the field name.

'''

== The Model unit test
The model is simply a few attributes, the test focuses on the equals, hashCode and the toString. +
⇒ link:../../phonebook/src/test/java/com/codedifferently/phonebook/widgets/models/models/WidgetTest.java[WidgetTest.java]

. There are four `Widget` instances in the test.
. Two instances: `widget1` and `widget2` have the same content while two other instances `emptyWidget1`
and `emptyWidget2` are empty.
. The aim of this test is to ensure code coverage of all methods other
than the getters and setters.

'''

== Exercise Lab

image:../../assets/images/labtime.png[Lab, align="center"]

. Create an Person object in the <your-lastname>.training.spring.boot.lab package and create its unit test.

. The Person contains the following fields:
* id (`Integer`)
* firstName (`String`)
* lastName (`String`)
* phoneNumbers(`List<phoneNumber>`).

. Create an PhoneNumber object in the <your-lastname>.training.spring.boot.lab package and create its unit test.

. The PhoneNumber contains the following fields:
* id (`Integer`)
* phoneNumber (`String`)
* isMobile (`Boolean`)


[width=100%, cols="<10%,^80%,>10%",grid=none,frame=ends]
|===
| Prev | TOC | Next

| link:03_MavenDependencies.adoc[Maven Dependencies used]
| link:TableOfContents.adoc[TOC]
| link:05_DAOLayer.adoc[Working with the Persistence Layer]
|===
